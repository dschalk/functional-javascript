"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var xstream_1 = require("xstream");
function makeWebWorkerDriver(worker) {
    return function (sink$) {
        sink$.addListener({
            next: function (ev) {
                worker.postMessage(ev);
            },
            error: function (err) {
                throw err;
            },
            complete: function () { }
        });
        return xstream_1.default.create({
            start: function (listener) {
                worker.onmessage = function (ev) { return listener.next(ev.data); };
            },
            stop: function () {
                worker.terminate();
            }
        });
    };
}
exports.makeWebWorkerDriver = makeWebWorkerDriver;
//# sourceMappingURL=index.js.map