'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.parse = parse;
exports.compile = compile;

var _babelCore = require('babel-core');

function compileModule(entryPath, loader, refererName) {
  return loader.compile(entryPath, refererName, false);
}

function parse(entryPath, loader, options) {
  let refererName;
  if (options != null) {
    refererName = options.refererName;
  }
  return compileModule(entryPath, loader, refererName).parse();
}

function compile(entryPath, loader, options) {
  let refererName,
      noBabel = true;
  if (options != null) {
    refererName = options.refererName;
    noBabel = options.noBabel;
  }
  let code = compileModule(entryPath, loader, refererName).codegen();
  if (noBabel) {
    return {
      code
    };
  }
  return (0, _babelCore.transform)(code, {
    babelrc: true
  });
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9zd2VldC5qcyJdLCJuYW1lcyI6WyJwYXJzZSIsImNvbXBpbGUiLCJjb21waWxlTW9kdWxlIiwiZW50cnlQYXRoIiwibG9hZGVyIiwicmVmZXJlck5hbWUiLCJvcHRpb25zIiwibm9CYWJlbCIsImNvZGUiLCJjb2RlZ2VuIiwiYmFiZWxyYyJdLCJtYXBwaW5ncyI6Ijs7Ozs7UUFtQmdCQSxLLEdBQUFBLEs7UUFZQUMsTyxHQUFBQSxPOztBQTdCaEI7O0FBU0EsU0FBU0MsYUFBVCxDQUNFQyxTQURGLEVBRUVDLE1BRkYsRUFHRUMsV0FIRixFQUlFO0FBQ0EsU0FBT0QsT0FBT0gsT0FBUCxDQUFlRSxTQUFmLEVBQTBCRSxXQUExQixFQUF1QyxLQUF2QyxDQUFQO0FBQ0Q7O0FBRU0sU0FBU0wsS0FBVCxDQUNMRyxTQURLLEVBRUxDLE1BRkssRUFHTEUsT0FISyxFQUlMO0FBQ0EsTUFBSUQsV0FBSjtBQUNBLE1BQUlDLFdBQVcsSUFBZixFQUFxQjtBQUNuQkQsa0JBQWNDLFFBQVFELFdBQXRCO0FBQ0Q7QUFDRCxTQUFPSCxjQUFjQyxTQUFkLEVBQXlCQyxNQUF6QixFQUFpQ0MsV0FBakMsRUFBOENMLEtBQTlDLEVBQVA7QUFDRDs7QUFFTSxTQUFTQyxPQUFULENBQ0xFLFNBREssRUFFTEMsTUFGSyxFQUdMRSxPQUhLLEVBSUw7QUFDQSxNQUFJRCxXQUFKO0FBQUEsTUFBaUJFLFVBQVUsSUFBM0I7QUFDQSxNQUFJRCxXQUFXLElBQWYsRUFBcUI7QUFDbkJELGtCQUFjQyxRQUFRRCxXQUF0QjtBQUNBRSxjQUFVRCxRQUFRQyxPQUFsQjtBQUNEO0FBQ0QsTUFBSUMsT0FBT04sY0FBY0MsU0FBZCxFQUF5QkMsTUFBekIsRUFBaUNDLFdBQWpDLEVBQThDSSxPQUE5QyxFQUFYO0FBQ0EsTUFBSUYsT0FBSixFQUFhO0FBQ1gsV0FBTztBQUNMQztBQURLLEtBQVA7QUFHRDtBQUNELFNBQU8sMEJBQU1BLElBQU4sRUFBWTtBQUNqQkUsYUFBUztBQURRLEdBQVosQ0FBUDtBQUdEIiwiZmlsZSI6InN3ZWV0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gQGZsb3dcbmltcG9ydCB0eXBlIFN3ZWV0TG9hZGVyIGZyb20gJy4vc3dlZXQtbG9hZGVyJztcbmltcG9ydCB7IHRyYW5zZm9ybSBhcyBiYWJlbCB9IGZyb20gJ2JhYmVsLWNvcmUnO1xuXG50eXBlIENvbXBpbGVPcHRpb25zID0ge1xuICByZWZlcmVyTmFtZT86IHN0cmluZyxcbiAgZGVidWdTdG9yZT86IE1hcDxzdHJpbmcsIHN0cmluZz4sXG4gIG5vQmFiZWw/OiBib29sZWFuLFxuICBsb2FkZXI6IFN3ZWV0TG9hZGVyLFxufTtcblxuZnVuY3Rpb24gY29tcGlsZU1vZHVsZShcbiAgZW50cnlQYXRoOiBzdHJpbmcsXG4gIGxvYWRlcjogU3dlZXRMb2FkZXIsXG4gIHJlZmVyZXJOYW1lPzogc3RyaW5nLFxuKSB7XG4gIHJldHVybiBsb2FkZXIuY29tcGlsZShlbnRyeVBhdGgsIHJlZmVyZXJOYW1lLCBmYWxzZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZShcbiAgZW50cnlQYXRoOiBzdHJpbmcsXG4gIGxvYWRlcjogU3dlZXRMb2FkZXIsXG4gIG9wdGlvbnM/OiBDb21waWxlT3B0aW9ucyxcbikge1xuICBsZXQgcmVmZXJlck5hbWU7XG4gIGlmIChvcHRpb25zICE9IG51bGwpIHtcbiAgICByZWZlcmVyTmFtZSA9IG9wdGlvbnMucmVmZXJlck5hbWU7XG4gIH1cbiAgcmV0dXJuIGNvbXBpbGVNb2R1bGUoZW50cnlQYXRoLCBsb2FkZXIsIHJlZmVyZXJOYW1lKS5wYXJzZSgpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29tcGlsZShcbiAgZW50cnlQYXRoOiBzdHJpbmcsXG4gIGxvYWRlcjogU3dlZXRMb2FkZXIsXG4gIG9wdGlvbnM/OiBDb21waWxlT3B0aW9ucyxcbikge1xuICBsZXQgcmVmZXJlck5hbWUsIG5vQmFiZWwgPSB0cnVlO1xuICBpZiAob3B0aW9ucyAhPSBudWxsKSB7XG4gICAgcmVmZXJlck5hbWUgPSBvcHRpb25zLnJlZmVyZXJOYW1lO1xuICAgIG5vQmFiZWwgPSBvcHRpb25zLm5vQmFiZWw7XG4gIH1cbiAgbGV0IGNvZGUgPSBjb21waWxlTW9kdWxlKGVudHJ5UGF0aCwgbG9hZGVyLCByZWZlcmVyTmFtZSkuY29kZWdlbigpO1xuICBpZiAobm9CYWJlbCkge1xuICAgIHJldHVybiB7XG4gICAgICBjb2RlLFxuICAgIH07XG4gIH1cbiAgcmV0dXJuIGJhYmVsKGNvZGUsIHtcbiAgICBiYWJlbHJjOiB0cnVlLFxuICB9KTtcbn1cbiJdfQ==
